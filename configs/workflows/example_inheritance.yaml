name: example_inheritance
version: 1
description: "Example workflow extending ybis_native with custom nodes"
extends: ybis_native

nodes:
  # Override existing node with custom config
  - id: spec
    type: spec_generator
    description: "Generate spec with custom model"
    config:
      model: "ollama/qwen2.5-coder:32b"
      temperature: 0.3
  
  # Add new node
  - id: pre_validate
    type: spec_validator
    description: "Pre-validation step"
  
  # Override gate with custom config
  - id: gate
    type: gate
    description: "Custom gate with stricter rules"
    config:
      require_approval: true
      risk_threshold: 30

connections:
  # Override: Add pre-validation before spec
  - from: START
    to: pre_validate
  
  - from: pre_validate
    to: spec
  
  # Keep all other connections from base workflow

requirements:
  modules:
    - spec_validator
    - spec_generator
    - planner
    - executor
    - verifier
    - gate
  artifacts:
    - spec.md
    - plan.json
    - executor_report.json
    - verifier_report.json
    - gate_report.json

